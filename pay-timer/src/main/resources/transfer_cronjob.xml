<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">


    <bean id="transferTimer" class="com.sogou.pay.timer.transfer.TransferTimer"/>

    <!-- 转账/招行代付任务 -->
    <bean id="transferJob"
          class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
        <property name="targetObject">
            <ref bean="transferTimer"/>
        </property>
        <property name="targetMethod">
            <value>doTransferJob</value>
        </property>
        <property name="concurrent">
            <value>false</value>
        </property>
    </bean>
    <bean id="queryTransferJob"
          class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
        <property name="targetObject">
            <ref bean="transferTimer"/>
        </property>
        <property name="targetMethod">
            <value>doQueryTransferJob</value>
        </property>
        <property name="concurrent">
            <value>false</value>
        </property>
    </bean>
    <bean id="queryTransferRefundJob"
          class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
        <property name="targetObject">
            <ref bean="transferTimer"/>
        </property>
        <property name="targetMethod">
            <value>doQueryTransferRefundJob</value>
        </property>
        <property name="concurrent">
            <value>false</value>
        </property>
    </bean>

    <!-- 定义触发时间 -->
    <bean id="transferJobTrigger"
          class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
        <property name="jobDetail">
            <ref bean="transferJob"/>
        </property>
        <property name="cronExpression">
            <!-- 每间隔1分钟-->
            <value>0 */1 * * * ?</value>
        </property>
    </bean>
    <bean id="queryTransferJobTrigger"
          class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
        <property name="jobDetail">
            <ref bean="queryTransferJob"/>
        </property>
        <property name="cronExpression">
            <!-- 每间隔1分钟-->
            <value>0 */1 * * * ?</value>
        </property>
    </bean>
    <bean id="queryTransferRefundJobTrigger"
          class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
        <property name="jobDetail">
            <ref bean="queryTransferRefundJob"/>
        </property>
        <property name="cronExpression">
            <!-- 次日7点30-->
            <value>0 30 07 ? * *</value>
        </property>
    </bean>

</beans>